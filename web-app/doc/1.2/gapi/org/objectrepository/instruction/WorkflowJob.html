<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (2.0.5) on Wed May 01 10:19:38 CEST 2013 -->
<title>WorkflowJob (Groovy Documentation)</title>
<meta name="date" content="2013-05-01">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="WorkflowJob (Groovy Documentation)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Groovy Documentation</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/objectrepository/instruction/WorkflowJob.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="WorkflowJob.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#property_summary">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#prop_detail">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>

<FONT SIZE="-1">
org.objectrepository.instruction</FONT>
<BR>

<span CLASS="ClassTitleFont">[Groovy] Class WorkflowJob</span></H2>
<pre>java.lang.Object
  <img src='../../../inherit.gif'>org.objectrepository.instruction.WorkflowJob
</pre><hr>
<PRE>abstract&nbsp;class WorkflowJob

</PRE>

<P>
 WorkflowJob

 Iterates over the home directories.

 General, task agnostic decisions are placed here.
 For task specific logic see WorkflowActiveService
 
</P>
<hr>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>


<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>java.lang.Object</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#grailsApplication">grailsApplication</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>java.io.File</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#home">home</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;long</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#instructionMessageTTL">instructionMessageTTL</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;long</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#messageTTL">messageTTL</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>java.lang.Object</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#mongo">mongo</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>java.lang.Object</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#taskProperties">taskProperties</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>TaskValidationService</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#taskValidationService">taskValidationService</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;java.lang.Object</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#transactional">transactional</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#D5D5FF" CLASS="TableHeadingColor">
    <TD COLSPAN=2><FONT SIZE="+2">
    <B>Constructor Summary</B></FONT></TD>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD>
            <CODE><B><a href="#WorkflowJob()">WorkflowJob</a></B>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#Instruction800(def)">Instruction800</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>Instruction800</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#InstructionRetry100(def)">InstructionRetry100</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>InstructionRetry100</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#StagingfileEndOfTheRoad800(def)">StagingfileEndOfTheRoad800</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>StagingfileEndOfTheRoad800</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#Start100(def)">Start100</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>addUpdateUpsertOrDelete</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#changeWorkflow(java.lang.String, def)">changeWorkflow</a></b>(java.lang.String taskName, java.lang.Object document)</CODE>
            <BR>
            <P>changeWorkflow</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#currentTask(def)">currentTask</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#delete(def)">delete</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#exception(def, java.lang.Exception)">exception</a></b>(java.lang.Object document, java.lang.Exception e)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#executeAfter(def, org.objectrepository.instruction.Stagingfile)">executeAfter</a></b>(java.lang.Object args, <a href='Stagingfile.html'>Stagingfile</a> document)</CODE>
            <BR>
            <P>executeAfter</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#executeBefore(def, def)">executeBefore</a></b>(java.lang.Object args, java.lang.Object document)</CODE>
            <BR>
            <P>executeBefore</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#first(def)">first</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>Moves the current statusCode of this task to its first setting</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>private&nbsp;int</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#firstStatusCode(java.lang.String)">firstStatusCode</a></b>(java.lang.String name)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getHome()">getHome</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getPlans()">getPlans</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.String</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#id(def)">id</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#last(def)">last</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>Moves the current statusCode to the end of the task</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#message(def)">message</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>message</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>private&nbsp;java.lang.String</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#methodName(def)">methodName</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>methodName</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#next(def)">next</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>Moves the workflow up ( or down ? </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#nextWorkflow(def)">nextWorkflow</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>nextWorkflow</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>java.lang.Object</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#renameQueueWithContentType(def)">renameQueueWithContentType</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>Changes the name of the current queue based on the Content Type.
 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#result(com.mongodb.WriteResult)">result</a></b>(com.mongodb.WriteResult result)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#retry(def)">retry</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>retry</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#runMethod(def)">runMethod</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>runMethod</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#runMethod(def, java.lang.String)">runMethod</a></b>(java.lang.Object document, java.lang.String method)</CODE>
            <BR>
            <P>runMethod</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#save(def)">save</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>save</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#saveWorkflow(def)">saveWorkflow</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>saveWorkflow</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#task100(def)">task100</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#task200(def)">task200</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#task300(def)">task300</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>task300</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#task400(def)">task400</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>task400</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#task500(def)">task500</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>task500</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#task600(def)">task600</a></b>(java.lang.Object document)</CODE>
            <BR>
            <P>task600</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>long</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#timeToLive()">timeToLive</a></b>()</CODE>
            <BR>
            <P>timeToLive</P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Methods inherited from class java.lang.Object</b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'>java.lang.Object#wait(long), java.lang.Object#wait(long, int), java.lang.Object#wait(), java.lang.Object#equals(java.lang.Object), java.lang.Object#toString(), java.lang.Object#hashCode(), java.lang.Object#getClass(), java.lang.Object#notify(), java.lang.Object#notifyAll()</td></tr>
                </table>
                &nbsp;

<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="grailsApplication"><!-- --></A><H3>grailsApplication</H3>
        <PRE>java.lang.Object <B>grailsApplication</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="home"><!-- --></A><H3>home</H3>
        <PRE>java.io.File <B>home</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="instructionMessageTTL"><!-- --></A><H3>instructionMessageTTL</H3>
        <PRE>static&nbsp;long <B>instructionMessageTTL</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="messageTTL"><!-- --></A><H3>messageTTL</H3>
        <PRE>static&nbsp;long <B>messageTTL</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="mongo"><!-- --></A><H3>mongo</H3>
        <PRE>java.lang.Object <B>mongo</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="taskProperties"><!-- --></A><H3>taskProperties</H3>
        <PRE>java.lang.Object <B>taskProperties</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="taskValidationService"><!-- --></A><H3>taskValidationService</H3>
        <PRE>TaskValidationService <B>taskValidationService</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="transactional"><!-- --></A><H3>transactional</H3>
        <PRE>static&nbsp;java.lang.Object <B>transactional</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Constructor Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="WorkflowJob()"><!-- --></A><H3>
        WorkflowJob</H3>
        <PRE><B>WorkflowJob</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="Instruction800(def)"><!-- --></A><H3>
        Instruction800</H3>
        <PRE>void <B>Instruction800</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> Instruction800

 When an instruction task is at the end of the job, we see if we should progress to Ingesting.
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="InstructionRetry100(def)"><!-- --></A><H3>
        InstructionRetry100</H3>
        <PRE>java.lang.Object <B>InstructionRetry100</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> InstructionRetry100

 Resets all failed tasks to 100 for a re-run.
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="StagingfileEndOfTheRoad800(def)"><!-- --></A><H3>
        StagingfileEndOfTheRoad800</H3>
        <PRE>java.lang.Object <B>StagingfileEndOfTheRoad800</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> StagingfileEndOfTheRoad800

 Done with workflow.
 There ought to be no failures. <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="Start100(def)"><!-- --></A><H3>
        Start100</H3>
        <PRE>java.lang.Object <B>Start100</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> addUpdateUpsertOrDelete

 The action indicator determines the flow of the file.
 Where:
 action=delete : we move to the delete queue
 action=add : we go to the next phase
 action=update : with file location, we proceed like add.
 action=upsert : no location. A simple metadata update

 Sets the expected tasks. <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="changeWorkflow(java.lang.String, def)"><!-- --></A><H3>
        changeWorkflow</H3>
        <PRE>void <B>changeWorkflow</B>(java.lang.String taskName, java.lang.Object document)</PRE>
        <DL>
        <DD> changeWorkflow

 Migrates to a different task. If the task statusCode is absent, we default to the first task in the workflow <DL><DT><B>Parameters:</B></DT><DD>taskName</DD><DD>document</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="currentTask(def)"><!-- --></A><H3>
        currentTask</H3>
        <PRE>java.lang.Object <B>currentTask</B>(java.lang.Object document)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="delete(def)"><!-- --></A><H3>
        delete</H3>
        <PRE>boolean <B>delete</B>(java.lang.Object document)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="exception(def, java.lang.Exception)"><!-- --></A><H3>
        exception</H3>
        <PRE>void <B>exception</B>(java.lang.Object document, java.lang.Exception e)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="executeAfter(def, org.objectrepository.instruction.Stagingfile)"><!-- --></A><H3>
        executeAfter</H3>
        <PRE>java.lang.Object <B>executeAfter</B>(java.lang.Object args, <a href='Stagingfile.html'>Stagingfile</a> document)</PRE>
        <DL>
        <DD> executeAfter

 This task should wait until a system task is complete. <DL><DT><B>Parameters:</B></DT><DD>document</DD><DD>args</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="executeBefore(def, def)"><!-- --></A><H3>
        executeBefore</H3>
        <PRE>java.lang.Object <B>executeBefore</B>(java.lang.Object args, java.lang.Object document)</PRE>
        <DL>
        <DD> executeBefore

 This task should and complete and then run a system task. <DL><DT><B>Parameters:</B></DT><DD>document</DD><DD>args</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="first(def)"><!-- --></A><H3>
        first</H3>
        <PRE>void <B>first</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> Moves the current statusCode of this task to its first setting <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="firstStatusCode(java.lang.String)"><!-- --></A><H3>
        firstStatusCode</H3>
        <PRE>private&nbsp;int <B>firstStatusCode</B>(java.lang.String name)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getHome()"><!-- --></A><H3>
        getHome</H3>
        <PRE>java.lang.Object <B>getHome</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getPlans()"><!-- --></A><H3>
        getPlans</H3>
        <PRE>java.lang.Object <B>getPlans</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="id(def)"><!-- --></A><H3>
        id</H3>
        <PRE>java.lang.String <B>id</B>(java.lang.Object document)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="last(def)"><!-- --></A><H3>
        last</H3>
        <PRE>void <B>last</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> Moves the current statusCode to the end of the task
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="message(def)"><!-- --></A><H3>
        message</H3>
        <PRE>void <B>message</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> message

 Places a message on the queue. It writes an InstructionType into a XML message as text
 This will be for instruction and files.

 The name of the queue is the same as the task. For the derivative tasks the message may be redirected
 by appending the contentType's type to it.

 We want to be sure the task identifier is in the database before the message queue client
 receives it. Hence here we save.

 The message will expire given the messageTTL setting minus a minute offset <DL><DT><B>Parameters:</B></DT><DD>instructionInstance</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="methodName(def)"><!-- --></A><H3>
        methodName</H3>
        <PRE>private&nbsp;java.lang.String <B>methodName</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> methodName

 Construct a method name from z current task.
 [WorkflowName] or [WorkflowName][StatusCode] or task[WorkflowName]
 If not we fall back on a more general statusCode as a method: task[InstanceType][StatusCode]
 If that does not exist either, we fall back on the most generic task: task[StatusCode] <DL><DT><B>Parameters:</B></DT><DD>m</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="next(def)"><!-- --></A><H3>
        next</H3>
        <PRE>void <B>next</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> Moves the workflow up ( or down ? ) one step: incremental. Like from 100 to 110 <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="nextWorkflow(def)"><!-- --></A><H3>
        nextWorkflow</H3>
        <PRE>void <B>nextWorkflow</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> nextWorkflow

 Moves a new task to the bottom ( beginning at index 0... depending on the metaphor ) of the workflow.
 This way the task becomes active.
 In case that last task is already finished ( statusCode > 799 ) we move on again to the next, etc.
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="renameQueueWithContentType(def)"><!-- --></A><H3>
        renameQueueWithContentType</H3>
        <PRE>java.lang.Object <B>renameQueueWithContentType</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> Changes the name of the current queue based on the Content Type.
 For example: image/jpeg appends 'Image' to the name.
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="result(com.mongodb.WriteResult)"><!-- --></A><H3>
        result</H3>
        <PRE>boolean <B>result</B>(com.mongodb.WriteResult result)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="retry(def)"><!-- --></A><H3>
        retry</H3>
        <PRE>void <B>retry</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> retry

 A task was not completed for whatever reason. Repeat it by setting the statusCode and try again.
 The number of attempts is restricted by the task.limit. De limit's default is set in the Task class
 and can be set in the PlanConfig

 If the attempt keeps failing and the limit is reached, we proceed to the next task
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="runMethod(def)"><!-- --></A><H3>
        runMethod</H3>
        <PRE>void <B>runMethod</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> runMethod

 Runs a method that is dynamically called via the current workflow status.
 There are two ways of calling a method dynamically.. In the workflow configuration use:

 1. methods specified in the element action=[method,...]. E.g. action=['next')
 This will execute methods next(document)

 2. Workflow name convention:
 [WorkflowName]
 [WorkflowName][StatusCode]
 task[WorkflowName]
 [objectClass][StatusCode]
 If not we fall back on a more general statusCode as a method: task[InstanceType][StatusCode]
 If that does not exist either, we fall back on the most generic task: task[StatusCode] <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="runMethod(def, java.lang.String)"><!-- --></A><H3>
        runMethod</H3>
        <PRE>@SuppressWarnings("GroovyAssignabilityCheck")
void <B>runMethod</B>(java.lang.Object document, java.lang.String method)</PRE>
        <DL>
        <DD> runMethod <DL><DT><B>Parameters:</B></DT><DD>document</DD><DD>method</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="save(def)"><!-- --></A><H3>
        save</H3>
        <PRE>boolean <B>save</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> save

 update to persist the workflow.
 All tasks in the workflow will have a map plus index n explicit set, as we cannot
 serialize it to a map.

 Persist the workflow <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="saveWorkflow(def)"><!-- --></A><H3>
        saveWorkflow</H3>
        <PRE>boolean <B>saveWorkflow</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> saveWorkflow

 Commits the new workflow, and copies the task to the tasks history collection.
 If the new task is in fact identical to that of the current one, we will not bother to persist. <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL><DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="task100(def)"><!-- --></A><H3>
        task100</H3>
        <PRE>void <B>task100</B>(java.lang.Object document)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="task200(def)"><!-- --></A><H3>
        task200</H3>
        <PRE>void <B>task200</B>(java.lang.Object document)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="task300(def)"><!-- --></A><H3>
        task300</H3>
        <PRE>void <B>task300</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> task300

 In case the message is expired we will reset all.
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="task400(def)"><!-- --></A><H3>
        task400</H3>
        <PRE>void <B>task400</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> task400

 In case the worker node has become unresponsive we skip so we can evaluate.
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="task500(def)"><!-- --></A><H3>
        task500</H3>
        <PRE>void <B>task500</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> task500

 Walk to the next step
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="task600(def)"><!-- --></A><H3>
        task600</H3>
        <PRE>void <B>task600</B>(java.lang.Object document)</PRE>
        <DL>
        <DD> task600

 Proceed when successful. Or else just retry.
     <DL><DT><B>Parameters:</B></DT><DD>document</DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="timeToLive()"><!-- --></A><H3>
        timeToLive</H3>
        <PRE>long <B>timeToLive</B>()</PRE>
        <DL>
        <DD> timeToLive

 Messages have a shorter expiration time than tasks.
 This way the message queue will remove the messages; whereby the dlq will pick it up and see if the
 task ought to be reset. <DL><DT><B>Returns:</B></DT><DD></DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p>Groovy Documentation</p>
<hr>

</body>
</html>
